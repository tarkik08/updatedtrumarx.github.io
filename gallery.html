<!DOCTYPE html>
<html lang="en" class="dark scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery | Trumarx IP Law Firm | Our Journey in Pictures</title>
    <meta name="description"
        content="Explore Trumarx's journey through pictures. View our office, events, team moments, and achievements in intellectual property law. Bangalore's leading IP law firm since 2014.">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://trumarx.org/gallery.html">

    <!-- Open Graph Tags -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Gallery | Trumarx IP Law Firm">
    <meta property="og:description"
        content="Explore Trumarx's journey through pictures. View our office, events, team moments, and achievements.">
    <meta property="og:url" content="https://trumarx.org/gallery.html">
    <meta property="og:site_name" content="Trumarx">
    <meta property="og:image" content="https://trumarx.org/og-image.jpg">

    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Gallery | Trumarx IP Law Firm">
    <meta name="twitter:description" content="Explore Trumarx's journey through pictures.">

    <!-- Tailwind CSS & FontAwesome -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'brand-accent': '#6e6e6e',
                        'brand-accentHover': '#4a4a4a',
                        'brand-bg': '#0a0a0a',
                        'brand-dark': '#000000',
                        'brand-darkCard': '#1d1d1f',
                        'brand-card': '#1d1d1f',
                        'brand-light': '#f5f5f7',
                        'brand-navy': '#1d1d1f',
                        'brand-textLight': '#f5f5f7',
                        'brand-textDark': '#1d1d1f',
                        'brand-border': '#424245'
                    }
                }
            }
        }
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script src="config.js"></script>
    <script type="text/javascript">
            (function () {
                emailjs.init(EMAILJS_PUBLIC_KEY);
            })();
    </script>

    <script src="theme.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,400&family=Open+Sans:wght@300;400;500;600;700&display=swap');

        body {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Apple-style Navigation */
        .legal-nav {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .dark .legal-nav {
            background: rgba(17, 17, 17, 0.8);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* Gallery Image Hover Effects */
        .gallery-item {
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .gallery-item:hover {
            transform: translateY(-4px);
        }

        .gallery-item img {
            transition: transform 0.5s ease, filter 0.3s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.05);
        }

        .gallery-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.7) 0%, transparent 50%);
            opacity: 0;
            transition: opacity 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding: 1.5rem;
        }

        .gallery-item:hover .gallery-overlay {
            opacity: 1;
        }

        /* Lightbox Modal */
        .lightbox {
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .lightbox.active {
            opacity: 1;
            pointer-events: auto;
        }

        .lightbox-content {
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .lightbox.active .lightbox-content {
            transform: scale(1);
        }

        /* Filter Buttons */
        .filter-btn {
            transition: all 0.3s ease;
        }

        .filter-btn.active {
            background-color: #6e6e6e;
            color: white;
        }

        /* Smooth Fade In Animation */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        /* Royal Blue Button */
        .btn-royal-blue {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
        }

        .btn-royal-blue:hover {
            background: linear-gradient(135deg, #1e40af 0%, #2563eb 100%);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(30, 58, 138, 0.3);
        }
    </style>
</head>

<body class="font-sans text-brand-textDark dark:text-brand-textLight bg-white dark:bg-brand-dark">

    <!-- Navigation -->
    <nav class="relative z-50 legal-nav transition-colors duration-300"
        style="background-color: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);">

        <div class="max-w-7xl mx-auto px-6 py-3">
            <div class="flex justify-between items-center">
                <!-- Logo -->
                <a href="index.html" class="group select-none -ml-2">
                    <img src="Trumarx_Logo-removebg-preview.png" alt="Trumarx Logo" class="h-10 w-auto">
                </a>

                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center gap-3 text-[14px] font-medium tracking-normal">
                    <a href="index.html" class="text-black transition-all px-2 py-2 hover:text-gray-600">Home</a>
                    <a href="aboutus.html" class="text-black transition-all px-2 py-2 hover:text-gray-600">About
                        Us</a>
                    <a href="achievements.html"
                        class="text-black transition-all px-2 py-2 hover:text-gray-600">Achievements</a>
                    <a href="testimonials.html"
                        class="text-black transition-all px-2 py-2 hover:text-gray-600">Testimonials</a>
                    <a href="gallery.html"
                        class="text-black transition-all px-2 py-2 hover:text-gray-600 font-bold">Gallery</a>
                    <a href="services.html" class="text-black transition-all px-2 py-2 hover:text-gray-600">Services</a>
                    <a href="careers.html" class="text-black transition-all px-2 py-2 hover:text-gray-600">Careers</a>

                    <div class="h-4 w-px bg-gray-700"></div>

                    <!-- CTA Button -->
                    <button onclick="openConsultationModal()"
                        class="px-5 py-2.5 rounded-lg text-white font-medium text-[14px] transition-all shadow-sm bg-black hover:bg-gray-800">
                        Consultation
                    </button>
                </div>

                <div class="flex items-center gap-4 md:hidden">
                    <button id="mobile-menu-btn" class="text-black text-xl">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden absolute w-full legal-nav border-t border-gray-400"
            style="background-color: #E1E2E6;">
            <div class="flex flex-col p-6 space-y-4 text-sm font-medium">
                <a href="index.html" class="text-black">Home</a>
                <a href="aboutus.html" class="text-black">About Us</a>
                <a href="achievements.html" class="text-black">Achievements</a>
                <a href="testimonials.html" class="text-black">Testimonials</a>
                <a href="gallery.html" class="text-black font-bold">Gallery</a>
                <a href="services.html" class="text-black">Services</a>
                <a href="careers.html" class="text-black">Careers</a>

                <button onclick="openConsultationModal()"
                    class="w-full text-center px-5 py-3 rounded-lg text-white font-bold shadow-lg btn-royal-blue">Book
                    Consultation</button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="relative pt-24 pb-16 bg-brand-bg overflow-hidden">
        <div class="max-w-7xl mx-auto px-6 text-center">
            <div class="inline-block mb-4">
                <span class="text-brand-accent font-semibold tracking-wide text-xs uppercase">Visual Journey</span>
            </div>
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4">
                Our Journey in <span class="text-brand-accent">Pictures</span>
            </h1>
            <p class="text-lg text-gray-400 max-w-2xl mx-auto leading-relaxed">
                Explore the moments that define Trumarx. From our office spaces to memorable events, team achievements,
                and client celebrations.
            </p>
        </div>
    </section>



    <!-- Gallery Container (Dynamically populated) -->
    <div id="gallery-container" class="bg-white dark:bg-brand-dark">
        <!-- Loading state -->
        <div id="loading-state" class="max-w-7xl mx-auto px-6 text-center py-20">
            <i class="fas fa-spinner fa-spin text-4xl text-brand-accent mb-4"></i>
            <p class="text-gray-600 dark:text-gray-400">Loading gallery...</p>
        </div>
    </div>


    <!-- Call to Action -->
    <section class="bg-brand-bg pt-16 pb-20">
        <div class="max-w-4xl mx-auto px-6 text-center">
            <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
                Want to Be Part of Our Story?
            </h2>
            <p class="text-lg text-gray-400 mb-8">
                Join our team or partner with us to protect your intellectual property.
            </p>
            <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
                <a href="careers.html"
                    class="px-8 py-4 rounded-full text-white font-medium text-sm transition-all shadow-lg w-full sm:w-auto btn-royal-blue">
                    Explore Careers
                </a>
                <button onclick="openConsultationModal()"
                    class="px-8 py-4 rounded-full text-brand-accent font-medium text-sm hover:bg-brand-light dark:hover:bg-white/10 transition-all flex items-center justify-center gap-2 group w-full sm:w-auto">
                    Book Consultation <i
                        class="fas fa-chevron-right text-xs group-hover:translate-x-1 transition-transform"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox fixed inset-0 bg-black bg-opacity-95 z-50 flex items-center justify-center p-4">
        <button onclick="closeLightbox()"
            class="absolute top-6 right-6 text-white text-3xl hover:text-gray-400 transition-colors z-10">
            <i class="fas fa-times"></i>
        </button>

        <button onclick="previousImage()"
            class="absolute left-6 text-white text-4xl hover:text-gray-400 transition-colors z-10">
            <i class="fas fa-chevron-left"></i>
        </button>

        <button onclick="nextImage()"
            class="absolute right-6 text-white text-4xl hover:text-gray-400 transition-colors z-10">
            <i class="fas fa-chevron-right"></i>
        </button>

        <div class="lightbox-content max-w-6xl w-full">
            <div class="bg-white dark:bg-brand-darkCard rounded-2xl overflow-hidden shadow-2xl">
                <div id="lightbox-image"
                    class="aspect-video bg-gradient-to-br from-gray-200 to-gray-300 dark:from-brand-darkCard dark:to-brand-navy flex items-center justify-center">
                    <div class="text-center p-8">
                        <i class="fas fa-image text-6xl text-gray-400 dark:text-gray-600 mb-4"></i>
                        <p class="text-gray-500 dark:text-gray-400 text-lg">Image will appear here</p>
                    </div>
                </div>
                <div class="p-6">
                    <h3 id="lightbox-title" class="text-2xl font-bold text-brand-navy dark:text-brand-textLight mb-2">
                        Image Title
                    </h3>
                    <p id="lightbox-description" class="text-gray-600 dark:text-gray-400">
                        Image description will appear here
                    </p>
                    <div
                        class="flex items-center justify-between mt-4 pt-4 border-t border-gray-200 dark:border-brand-border">
                        <span id="lightbox-counter" class="text-sm text-gray-500 dark:text-gray-400">1 / 9</span>
                        <div class="flex gap-3">
                            <button class="text-brand-accent hover:text-brand-accentHover transition-colors">
                                <i class="fas fa-download"></i>
                            </button>
                            <button class="text-brand-accent hover:text-brand-accentHover transition-colors">
                                <i class="fas fa-share-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="py-4 border-t border-white/10 relative" style="background-color: #000000;">
        <div class="max-w-7xl mx-auto px-6 text-center">
            <div class="flex flex-wrap justify-center gap-x-6 gap-y-2 mb-4 text-sm font-medium text-white">
                <a href="index.html" class="transition-all hover:text-gray-300">Home</a>
                <a href="services.html" class="transition-all hover:text-gray-300">Practice Areas</a>
                <a href="aboutus.html" class="transition-all hover:text-gray-300">Our Team</a>
                <a href="#" onclick="openContactModal(event)" class="transition-all hover:text-gray-300">Contact</a>
            </div>

            <!-- Social Media Icons - Bottom Right -->
            <div class="absolute bottom-4 right-6 flex items-center gap-4">
                <a href="https://www.instagram.com/trumarx.in/" target="_blank" rel="noopener noreferrer"
                    class="text-white hover:text-gray-300 transition-all" aria-label="Instagram">
                    <i class="fab fa-instagram text-xl"></i>
                </a>
                <a href="https://www.linkedin.com/company/trumarx/posts/?feedView=all" target="_blank"
                    rel="noopener noreferrer" class="text-white hover:text-gray-300 transition-all"
                    aria-label="LinkedIn">
                    <i class="fab fa-linkedin text-xl"></i>
                </a>
                <a href="https://api.whatsapp.com/send/?phone=9606010198&text&type=phone_number&app_absent=0"
                    target="_blank" rel="noopener noreferrer" class="text-white hover:text-gray-300 transition-all"
                    aria-label="WhatsApp">
                    <i class="fab fa-whatsapp text-xl"></i>
                </a>
            </div>

            <p class="text-white/60 text-xs mt-4">&copy; Trumarx 2026</p>
        </div>
    </footer>

    <!-- Consultation Modal Placeholder -->
    <div id="consultation-modal-container"></div>

    <script>
        // ============================================
        // WORDPRESS + GOOGLE DRIVE INTEGRATION
        // ============================================

        // Configuration - UPDATE THESE URLs
        const WP_API_URL = 'https://cms.trumarx.in/wp/wp-json/wp/v2/gallery?per_page=100';
        const DRIVE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwQ6X8fO4dK8su9FClJwBSy54ry3tZrlrIm4i94LX99c-r6upGk9GZnf84vMBojj0kp/exec';

        // Global variables
        let galleryData = [];
        let currentSlideshow = null;
        let currentSlideIndex = 0;

        // ============================================
        // LOAD GALLERY DATA
        // ============================================

        document.addEventListener('DOMContentLoaded', async function () {
            await loadGalleryData();
        });

        async function loadGalleryData() {
            try {
                showLoadingState();

                const response = await fetch(WP_API_URL);
                if (!response.ok) throw new Error('Failed to fetch gallery data');

                const events = await response.json();

                // Transform WordPress data and fetch Drive images
                for (const event of events) {
                    const driveLink = event.drive_folder_link;
                    const images = await fetchImagesFromDrive(driveLink);

                    galleryData.push({
                        id: event.id,
                        title: event.title.rendered,
                        description: event.content.rendered.replace(/<[^>]*>/g, '').trim(),
                        date: event.date,
                        images: images
                    });
                }

                // Sort by date (newest first)
                galleryData.sort((a, b) => new Date(b.date) - new Date(a.date));

                console.log('Loaded', galleryData.length, 'gallery events');

                displayGallery();
                hideLoadingState();

            } catch (error) {
                console.error('Error loading gallery:', error);
                showErrorMessage('Unable to load gallery. Please try again later.');
            }
        }

        // ============================================
        // FETCH IMAGES FROM GOOGLE DRIVE (via Apps Script)
        // ============================================

        async function fetchImagesFromDrive(driveLink) {
            if (!driveLink) return [];

            try {
                const folderId = extractFolderId(driveLink);
                if (!folderId) return [];

                // Call Apps Script to get images
                const response = await fetch(`${DRIVE_SCRIPT_URL}?folderId=${folderId}`);
                const data = await response.json();

                if (data.success && data.images) {
                    return data.images;
                }

                return [];

            } catch (error) {
                console.error('Error fetching Drive images:', error);
                return [];
            }
        }

        function extractFolderId(driveLink) {
            const patterns = [
                /folders\/([a-zA-Z0-9_-]+)/,
                /id=([a-zA-Z0-9_-]+)/,
                /^([a-zA-Z0-9_-]+)$/
            ];

            for (const pattern of patterns) {
                const match = driveLink.match(pattern);
                if (match) return match[1];
            }

            return null;
        }

        // ============================================
        // DISPLAY GALLERY - CARD LAYOUT
        // ============================================

        function displayGallery() {
            if (galleryData.length === 0) {
                showEmptyState();
                return;
            }

            const container = document.getElementById('gallery-container');
            container.innerHTML = '';

            galleryData.forEach((event, index) => {
                if (event.images.length === 0) return;

                const card = createEventCard(event, index);
                container.appendChild(card);
            });
        }

        function createEventCard(event, eventIndex) {
            const section = document.createElement('section');
            section.className = 'py-12 border-b border-gray-200 dark:border-brand-border last:border-b-0';

            const coverImage = event.images[0];

            section.innerHTML = `
                <div class="max-w-5xl mx-auto px-6">
                    <!-- Event Card -->
                    <div class="bg-white dark:bg-brand-darkCard rounded-2xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300 cursor-pointer group"
                        onclick="openSlideshow(${eventIndex})">
                        
                        <!-- Cover Image -->
                        <div class="relative aspect-[16/9] overflow-hidden bg-gray-200 dark:bg-brand-navy">
                            <img src="${coverImage.url}" 
                                 alt="${event.title}"
                                 class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
                                 loading="lazy"
                                 onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22800%22 height=%22450%22%3E%3Crect fill=%22%23ddd%22 width=%22800%22 height=%22450%22/%3E%3Ctext fill=%22%23999%22 x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22%3EImage not available%3C/text%3E%3C/svg%3E'">
                            
                            <!-- Overlay on hover -->
                            <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-300 flex items-center justify-center">
                                <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                    <i class="fas fa-play-circle text-white text-6xl"></i>
                                </div>
                            </div>
                            
                            <!-- Image count badge -->
                            <div class="absolute top-4 right-4 bg-black bg-opacity-70 text-white px-3 py-1.5 rounded-full text-sm font-medium">
                                <i class="fas fa-images mr-1"></i> ${event.images.length} ${event.images.length === 1 ? 'photo' : 'photos'}
                            </div>
                        </div>
                        
                        <!-- Card Content -->
                        <div class="p-6 md:p-8">
                            <h2 class="text-2xl md:text-3xl font-bold text-brand-navy dark:text-brand-textLight mb-3">
                                ${event.title}
                            </h2>
                            ${event.description ? `
                                <p class="text-gray-600 dark:text-gray-400 text-base leading-relaxed mb-4">
                                    ${event.description}
                                </p>
                            ` : ''}
                            <div class="flex items-center text-brand-accent group-hover:text-brand-accentHover transition-colors font-medium">
                                <span>View Slideshow</span>
                                <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            return section;
        }

        // ============================================
        // SLIDESHOW MODAL
        // ============================================

        function openSlideshow(eventIndex) {
            currentSlideshow = galleryData[eventIndex];
            currentSlideIndex = 0;

            // Create slideshow modal
            const modal = document.createElement('div');
            modal.id = 'slideshow-modal';
            modal.className = 'fixed inset-0 z-50 bg-black animate-fade-in';
            modal.innerHTML = `
                <!-- Close button -->
                <button onclick="closeSlideshow()" 
                    class="absolute top-4 right-4 md:top-6 md:right-6 z-50 text-white hover:text-gray-300 transition-colors p-2">
                    <i class="fas fa-times text-2xl md:text-3xl"></i>
                </button>
                
                <!-- Previous button -->
                <button onclick="previousSlide()" 
                    class="absolute left-2 md:left-6 top-1/2 -translate-y-1/2 z-50 text-white hover:text-gray-300 transition-colors p-2 md:p-4 ${currentSlideshow.images.length <= 1 ? 'hidden' : ''}">
                    <i class="fas fa-chevron-left text-3xl md:text-4xl"></i>
                </button>
                
                <!-- Next button -->
                <button onclick="nextSlide()" 
                    class="absolute right-2 md:right-6 top-1/2 -translate-y-1/2 z-50 text-white hover:text-gray-300 transition-colors p-2 md:p-4 ${currentSlideshow.images.length <= 1 ? 'hidden' : ''}">
                    <i class="fas fa-chevron-right text-3xl md:text-4xl"></i>
                </button>
                
                <!-- Image container -->
                <div class="w-full h-full flex items-center justify-center p-4 md:p-20">
                    <img id="slideshow-image" 
                         src="" 
                         alt=""
                         class="max-w-full max-h-full object-contain">
                </div>
                
                <!-- Bottom info bar -->
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/80 to-transparent p-4 md:p-6">
                    <div class="max-w-5xl mx-auto">
                        <h3 id="slideshow-title" class="text-white text-xl md:text-2xl font-bold mb-2"></h3>
                        <p id="slideshow-counter" class="text-gray-300 text-sm"></p>
                    </div>
                </div>
            `;

            document.body.appendChild(modal);
            document.body.style.overflow = 'hidden';

            updateSlideshow();
        }

        function closeSlideshow() {
            const modal = document.getElementById('slideshow-modal');
            if (modal) {
                modal.remove();
                document.body.style.overflow = '';
            }
            currentSlideshow = null;
        }

        function nextSlide() {
            if (!currentSlideshow) return;
            currentSlideIndex = (currentSlideIndex + 1) % currentSlideshow.images.length;
            updateSlideshow();
        }

        function previousSlide() {
            if (!currentSlideshow) return;
            currentSlideIndex = (currentSlideIndex - 1 + currentSlideshow.images.length) % currentSlideshow.images.length;
            updateSlideshow();
        }

        function updateSlideshow() {
            if (!currentSlideshow) return;

            const image = currentSlideshow.images[currentSlideIndex];

            const imgElement = document.getElementById('slideshow-image');
            imgElement.src = image.url;
            imgElement.alt = currentSlideshow.title;
            imgElement.onerror = function () {
                this.src = 'data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22800%22 height=%22600%22%3E%3Crect fill=%22%23333%22 width=%22800%22 height=%22600%22/%3E%3Ctext fill=%22%23999%22 x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22%3EImage not available%3C/text%3E%3C/svg%3E';
            };

            document.getElementById('slideshow-title').textContent = currentSlideshow.title;
            document.getElementById('slideshow-counter').textContent =
                `Photo ${currentSlideIndex + 1} of ${currentSlideshow.images.length}`;
        }

        // Keyboard navigation
        document.addEventListener('keydown', function (e) {
            if (!currentSlideshow) return;

            if (e.key === 'Escape') closeSlideshow();
            if (e.key === 'ArrowRight') nextSlide();
            if (e.key === 'ArrowLeft') previousSlide();
        });

        // Touch/swipe support for mobile
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', function (e) {
            if (!currentSlideshow) return;
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', function (e) {
            if (!currentSlideshow) return;

            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;

            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    nextSlide();
                } else {
                    previousSlide();
                }
            }
        }

        // ============================================
        // UI STATE FUNCTIONS
        // ============================================

        function showLoadingState() {
            document.getElementById('gallery-container').innerHTML = `
                <div class="max-w-7xl mx-auto px-6 text-center py-20">
                    <i class="fas fa-spinner fa-spin text-4xl text-brand-accent mb-4"></i>
                    <p class="text-gray-600 dark:text-gray-400">Loading gallery...</p>
                </div>
            `;
        }

        function hideLoadingState() {
            const loadingState = document.getElementById('loading-state');
            if (loadingState) loadingState.remove();
        }

        function showErrorMessage(message) {
            document.getElementById('gallery-container').innerHTML = `
                <div class="max-w-7xl mx-auto px-6 text-center py-20">
                    <i class="fas fa-exclamation-triangle text-4xl text-red-500 mb-4"></i>
                    <p class="text-gray-600 dark:text-gray-400 mb-4">${message}</p>
                    <button onclick="location.reload()" 
                        class="px-6 py-2 bg-brand-accent text-white rounded-lg hover:bg-brand-accentHover transition-colors">
                        Retry
                    </button>
                </div>
            `;
        }

        function showEmptyState() {
            document.getElementById('gallery-container').innerHTML = `
                <div class="max-w-7xl mx-auto px-6 text-center py-20">
                    <i class="fas fa-images text-4xl text-gray-400 mb-4"></i>
                    <p class="text-gray-600 dark:text-gray-400">No gallery events yet.</p>
                    <p class="text-gray-500 dark:text-gray-500 text-sm mt-2">Check back soon!</p>
                </div>
            `;
        }

        // ============================================
        // MOBILE MENU & OTHER UI
        // ============================================

        // Mobile Menu Toggle
        document.getElementById('mobile-menu-btn').addEventListener('click', function () {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        });

        // Consultation Modal Function
        function openConsultationModal() {
            alert('Consultation modal will open here.');
        }
    </script>

    <!-- Load Form Components -->
    <script src="load-forms.js"></script>

</body>

</html>