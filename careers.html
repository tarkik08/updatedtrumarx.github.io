<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trumarx | Careers</title>
    <meta name="description" content="Join the Trumarx team. Explore career opportunities for talented IP professionals dedicated to excellence and innovation.">
    
    <!-- Tailwind CSS & FontAwesome -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- EmailJS -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        brand: {
                            navy: '#111111',        /* Near Black Text */
                            dark: '#111111',        /* Near Black BG */
                            darkCard: '#1F1F1F',    /* Lighter Black for cards */
                            light: '#F5F5F7',       /* Apple Light Grey */
                            white: '#FFFFFF',
                            accent: '#888888',      /* Neutral Grey for accents/borders */
                            accentHover: '#666666',  /* Darker Grey */
                            textLight: '#FFFFFF',   /* White text on dark bg */
                            textDark: '#111111',    /* Near Black text on light bg */
                            logoGrey: '#888888',    /* Neutral Grey */
                            logoBlack: '#111111',   /* Near Black */
                        }
                    },
                    fontFamily: {
                        sans: [
                            '-apple-system', 
                            'BlinkMacSystemFont', 
                            '"San Francisco"', 
                            '"Helvetica Neue"', 
                            'Helvetica', 
                            'Arial', 
                            'sans-serif'
                        ],
                        serif: ['"Merriweather"', 'serif'],
                    },
                    boxShadow: {
                        'legal': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
                    }
                }
            }
        }
    </script>
    
    <!-- Theme Logic -->
    <script>
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }

        function toggleTheme() {
            const html = document.documentElement;
            const checkbox = document.getElementById('theme-toggle');
            
            if (html.classList.contains('dark')) {
                html.classList.remove('dark');
                localStorage.setItem('theme', 'light');
                if(checkbox) checkbox.checked = false;
            } else {
                html.classList.add('dark');
                localStorage.setItem('theme', 'dark');
                if(checkbox) checkbox.checked = true;
            }
        }

        window.addEventListener('DOMContentLoaded', () => {
            const checkbox = document.getElementById('theme-toggle');
            if (checkbox) {
                checkbox.checked = document.documentElement.classList.contains('dark');
            }
        });
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,400&family=Open+Sans:wght@300;400;500;600;700&display=swap');

        body {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Apple-style Navigation */
        .legal-nav {
            background: rgba(255, 255, 255, 0.8); /* Apple Frost Light */
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }
        .dark .legal-nav {
            background: rgba(17, 17, 17, 0.8); /* Near Black Frost Dark */
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        /* Modal Transitions */
        .modal { opacity: 0; pointer-events: none; transition: opacity 0.3s ease; }
        .modal.active { opacity: 1; pointer-events: auto; }
        .modal-content { transform: scale(0.95) translateY(20px); transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .modal.active .modal-content { transform: scale(1) translateY(0); }

        /* Contact Modal Animation Override */
        #contact-modal-overlay .modal-content {
            transform: scale(0.5);
            opacity: 0;
            transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.3s ease-out;
        }
        #contact-modal-overlay.active .modal-content {
            transform: scale(1);
            opacity: 1;
        }
        
        /* Toggle Switch Styles */
        .toggle-checkbox:checked {
            right: 0;
            border-color: #888888;
        }
        .toggle-checkbox:checked + .toggle-label {
            background-color: #888888;
        }
        .toggle-checkbox:checked + .toggle-label:before {
            transform: translateX(100%);
        }
        
        /* General Smooth Transitions */
        body, div, nav, section, footer, button, a, span, i, h1, h2, h3, p, input, select, label, li {
            transition: background-color 0.4s ease, border-color 0.4s ease, color 0.4s ease;
        }
    </style>
</head>
<body class="font-sans text-brand-textDark dark:text-brand-textLight bg-white dark:bg-brand-dark relative overflow-x-hidden">

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 legal-nav">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <!-- Logo -->
                <a href="index.html" class="flex flex-col leading-none group hover:opacity-80 transition-opacity">
                    <div class="text-3xl tracking-tight">
                        <span class="font-bold text-brand-logoGrey">tru</span><span class="font-bold text-brand-logoBlack dark:text-brand-textLight">marx</span>
                        <span class="align-top text-[10px] font-bold border-2 border-brand-logoBlack dark:border-brand-textLight rounded-full px-[2px] py-[0px] ml-0.5 relative top-1 text-brand-logoBlack dark:text-brand-textLight">®</span>
                    </div>
                    <span class="text-[10px] text-brand-logoGrey tracking-wide mt-1 font-medium">brand legal management</span>
                </a>

                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center gap-8 text-[12px] font-medium tracking-normal">
                    <a href="index.html" class="text-gray-600 dark:text-gray-300 hover:text-brand-accent transition-colors">Home</a>
                    <a href="aboutus.html" class="text-gray-600 dark:text-gray-300 hover:text-brand-accent transition-colors">About Us</a>
                    <a href="achievements.html" class="text-gray-600 dark:text-gray-300 hover:text-brand-accent transition-colors">Achievements</a>
                    <a href="testimonials.html" class="text-gray-600 dark:text-gray-300 hover:text-brand-accent transition-colors">Testimonials</a>
                    <a href="services.html" class="text-gray-600 dark:text-gray-300 hover:text-brand-accent transition-colors">Services</a>
                    <a href="careers.html" class="text-brand-accent transition-colors">Careers</a>
                    
                    <div class="h-4 w-px bg-gray-300 dark:bg-gray-700"></div>

                    <!-- Theme Toggle Switch with Icons -->
                    <div class="flex items-center gap-2">
                        <i class="fas fa-sun text-brand-accent text-xs"></i>
                        <div class="relative inline-block w-10 align-middle select-none transition duration-200 ease-in">
                            <input type="checkbox" name="toggle" id="theme-toggle" class="toggle-checkbox absolute block w-5 h-5 rounded-full bg-white border-4 appearance-none cursor-pointer border-gray-300 checked:border-brand-accent transition-all duration-300 z-10" onclick="toggleTheme()"/>
                            <label for="theme-toggle" class="toggle-label block overflow-hidden h-5 rounded-full bg-gray-300 dark:bg-gray-700 cursor-pointer transition-colors duration-300"></label>
                        </div>
                        <i class="fas fa-moon text-gray-400 dark:text-brand-textLight text-xs"></i>
                    </div>

                    <!-- Button -->
                    <button onclick="openModal()" class="px-4 py-2 rounded-full bg-brand-accent text-white font-medium text-[12px] hover:bg-brand-accentHover transition-all shadow-sm">
                        Consultation
                    </button>
                    <button id="auth-btn" onclick="openAdminLogin()" class="px-4 py-2 rounded-xl bg-brand-navy text-white font-medium text-[12px] hover:bg-brand-accentHover transition-all shadow-sm">
                        Admin Login
                    </button>
                </div>

                <div class="flex items-center gap-4 md:hidden">
                    <button id="mobile-menu-btn" class="text-brand-textDark dark:text-brand-textLight text-xl">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden absolute w-full legal-nav border-t border-gray-200 dark:border-gray-700">
            <div class="flex flex-col p-6 space-y-4 text-sm font-medium">
                <a href="index.html" class="text-gray-600 dark:text-gray-400">Home</a>
                <a href="aboutus.html" class="text-gray-600 dark:text-gray-400">About Us</a>
                <a href="achievements.html" class="text-gray-600 dark:text-gray-400">Achievements</a>
                <a href="testimonials.html" class="text-gray-600 dark:text-gray-400">Testimonials</a>
                <a href="services.html" class="text-gray-600 dark:text-gray-400">Services</a>
                <a href="careers.html" class="text-brand-textDark dark:text-brand-textLight">Careers</a>
                <button onclick="toggleTheme()" class="text-left text-gray-600 dark:text-gray-400">Toggle Theme</button>
                <button id="mobile-auth-btn" onclick="openAdminLogin()" class="w-full text-center px-5 py-3 rounded-xl bg-brand-navy text-white font-bold shadow-lg mb-2">Admin Login</button>
                <button onclick="openModal()" class="w-full text-center px-5 py-3 rounded-full bg-brand-accent text-white font-bold shadow-lg">Book Consultation</button>
            </div>
        </div>
    </nav>

    <!-- Careers Hero -->
    <section class="relative pt-32 pb-20 bg-brand-white dark:bg-brand-dark overflow-hidden">
        <div class="max-w-4xl mx-auto px-6 text-center relative z-10">
            <h1 class="text-5xl md:text-6xl font-bold tracking-tight mb-8 text-brand-textDark dark:text-brand-textLight">
                Join Our <br><span class="text-brand-accent">Team.</span>
            </h1>
            <p class="text-lg text-gray-500 dark:text-gray-400 leading-relaxed mb-10">
                We are always looking for talented and passionate individuals to join our mission of safeguarding innovation. Explore current opportunities at Trumarx.
            </p>
        </div>
    </section>

    <!-- Why Join Trumarx (General) -->
    <section class="py-24 bg-brand-light dark:bg-brand-darkCard">
        <div class="max-w-7xl mx-auto px-6">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-bold text-brand-navy dark:text-brand-textLight mb-4">Why Build Your Career at Trumarx?</h2>
                <p class="text-gray-500 dark:text-gray-400 max-w-2xl mx-auto">
                    At Trumarx, we don't just handle cases; we shape the future of brands. Join a team where precision meets passion.
                </p>
            </div>

            <div class="grid md:grid-cols-3 gap-8">
                <!-- Card 1 -->
                <div class="bg-white dark:bg-brand-dark p-8 rounded-2xl shadow-legal hover:shadow-lg transition-shadow border border-gray-100 dark:border-white/5">
                    <div class="w-12 h-12 bg-brand-light dark:bg-brand-darkCard rounded-full flex items-center justify-center mb-6">
                        <i class="fas fa-briefcase text-brand-accent text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-brand-navy dark:text-brand-textLight mb-3">Real-World Impact</h3>
                    <p class="text-gray-500 dark:text-gray-400 text-sm leading-relaxed">
                        Work with diverse clients, from emerging startups to established conglomerates. Your work directly safeguards the identities of tomorrow's market leaders.
                    </p>
                </div>
                <!-- Card 2 -->
                <div class="bg-white dark:bg-brand-dark p-8 rounded-2xl shadow-legal hover:shadow-lg transition-shadow border border-gray-100 dark:border-white/5">
                    <div class="w-12 h-12 bg-brand-light dark:bg-brand-darkCard rounded-full flex items-center justify-center mb-6">
                        <i class="fas fa-chalkboard-teacher text-brand-accent text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-brand-navy dark:text-brand-textLight mb-3">Mentorship & Growth</h3>
                    <p class="text-gray-500 dark:text-gray-400 text-sm leading-relaxed">
                        Learn directly from experienced IP attorneys. We believe in nurturing talent through structured guidance, regular feedback, and hands-on training.
                    </p>
                </div>
                <!-- Card 3 -->
                <div class="bg-white dark:bg-brand-dark p-8 rounded-2xl shadow-legal hover:shadow-lg transition-shadow border border-gray-100 dark:border-white/5">
                    <div class="w-12 h-12 bg-brand-light dark:bg-brand-darkCard rounded-full flex items-center justify-center mb-6">
                        <i class="fas fa-balance-scale text-brand-accent text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-brand-navy dark:text-brand-textLight mb-3">Niche Expertise</h3>
                    <p class="text-gray-500 dark:text-gray-400 text-sm leading-relaxed">
                        Deep dive into the intricacies of Trademark and IP law. We equip you with specialized skills that set you apart in the legal profession.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Internship Program Section -->
    <section class="py-24 bg-white dark:bg-brand-dark">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex flex-col lg:flex-row gap-16">
                
                <!-- Left Content: Program Details -->
                <div class="lg:w-2/3">
                    <div class="mb-10">
                        <span class="text-brand-accent font-bold tracking-wider text-xs uppercase mb-2 block">Student Program</span>
                        <h2 class="text-3xl md:text-4xl font-bold text-brand-navy dark:text-brand-textLight mb-6">Internship Program</h2>
                        <p class="text-lg text-gray-600 dark:text-gray-300 leading-relaxed">
                            Kickstart your journey in Trademark & IP Law with a structured, hands-on internship at Trumarx, Indiranagar, Bangalore. Our program is designed to give law students real experience in drafting, research, and trademark procedures.
                        </p>
                    </div>

                    <!-- What You'll Learn -->
                    <div class="mb-12">
                        <h3 class="text-xl font-bold text-brand-navy dark:text-brand-textLight mb-6 border-l-4 border-brand-accent pl-4">What You’ll Learn</h3>
                        <ul class="grid md:grid-cols-2 gap-4 text-gray-600 dark:text-gray-400">
                            <li class="flex items-start"><i class="fas fa-check text-brand-accent mt-1 mr-3"></i><span>Understanding Sections 9 & 11, acquired distinctiveness, and cross-class rights</span></li>
                            <li class="flex items-start"><i class="fas fa-check text-brand-accent mt-1 mr-3"></i><span>Conducting trademark searches & preparing similarity reports</span></li>
                            <li class="flex items-start"><i class="fas fa-check text-brand-accent mt-1 mr-3"></i><span>Drafting Opposition Notices, Counter Statements, ERRs, affidavits & legal notices</span></li>
                            <li class="flex items-start"><i class="fas fa-check text-brand-accent mt-1 mr-3"></i><span>Creating flowcharts for trademark registration & opposition</span></li>
                            <li class="flex items-start"><i class="fas fa-check text-brand-accent mt-1 mr-3"></i><span>Filing TM-A, TM-M, TM-P and performing status checks</span></li>
                            <li class="flex items-start"><i class="fas fa-check text-brand-accent mt-1 mr-3"></i><span>Researching case laws & writing structured legal articles</span></li>
                        </ul>
                    </div>

                    <!-- Program Highlights -->
                    <div class="mb-12">
                        <h3 class="text-xl font-bold text-brand-navy dark:text-brand-textLight mb-6 border-l-4 border-brand-accent pl-4">Program Highlights</h3>
                        <div class="bg-brand-light dark:bg-brand-darkCard rounded-xl p-6">
                            <ul class="space-y-3 text-gray-600 dark:text-gray-400">
                                <li class="flex items-center"><i class="fas fa-star text-yellow-500 mr-3 w-5 text-center"></i>Daily task journal with guided research</li>
                                <li class="flex items-center"><i class="fas fa-folder-open text-yellow-500 mr-3 w-5 text-center"></i>Exposure to real trademark applications</li>
                                <li class="flex items-center"><i class="fas fa-user-tie text-yellow-500 mr-3 w-5 text-center"></i>Mentorship from experienced IP professionals</li>
                                <li class="flex items-center"><i class="fas fa-pen-nib text-yellow-500 mr-3 w-5 text-center"></i>Strong focus on drafting, analysis & professional skills</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Why Join Us (Internship Specific) -->
                     <div class="mb-12">
                        <h3 class="text-xl font-bold text-brand-navy dark:text-brand-textLight mb-6 border-l-4 border-brand-accent pl-4">Why Join This Internship?</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="p-4 border border-gray-200 dark:border-white/10 rounded-lg text-center">
                                <i class="fas fa-eye text-2xl text-brand-accent mb-3"></i>
                                <h4 class="font-bold text-brand-navy dark:text-brand-textLight mb-1">Real Exposure</h4>
                                <p class="text-xs text-gray-500">To trademark practice</p>
                            </div>
                            <div class="p-4 border border-gray-200 dark:border-white/10 rounded-lg text-center">
                                <i class="fas fa-tasks text-2xl text-brand-accent mb-3"></i>
                                <h4 class="font-bold text-brand-navy dark:text-brand-textLight mb-1">Structured Tasks</h4>
                                <p class="text-xs text-gray-500">Organized learning path</p>
                            </div>
                            <div class="p-4 border border-gray-200 dark:border-white/10 rounded-lg text-center">
                                <i class="fas fa-layer-group text-2xl text-brand-accent mb-3"></i>
                                <h4 class="font-bold text-brand-navy dark:text-brand-textLight mb-1">Skill Building</h4>
                                <p class="text-xs text-gray-500">For a career in IP Law</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Sidebar: Application Info -->
                <div class="lg:w-1/3">
                    <div class="sticky top-24 space-y-8">
                        
                        <!-- Who Can Apply -->
                        <div class="bg-brand-navy text-white rounded-2xl p-8 shadow-xl relative overflow-hidden">
                            <div class="absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-xl"></div>
                            <h3 class="text-xl font-bold mb-4 relative z-10">Who Can Apply</h3>
                            <ul class="space-y-4 text-sm text-gray-300 relative z-10">
                                <li class="flex items-start">
                                    <i class="fas fa-university mt-1 mr-3 text-brand-accent"></i>
                                    <span>Law students with an interest in IPR</span>
                                </li>
                            </ul>
                        </div>

                        <!-- Application Procedure -->
                        <div class="bg-brand-light dark:bg-brand-darkCard rounded-2xl p-8 border border-gray-200 dark:border-white/5">
                            <h3 class="text-xl font-bold text-brand-navy dark:text-brand-textLight mb-6">Application Procedure</h3>
                            
                            <div class="space-y-6">
                                <div class="flex">
                                    <div class="flex-shrink-0 mr-4">
                                        <div class="w-8 h-8 rounded-full bg-brand-accent text-white flex items-center justify-center font-bold text-sm">1</div>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-brand-navy dark:text-brand-textLight text-sm">Email Resume + Statement</h4>
                                        <p class="text-xs text-gray-500 mt-1">Send your Resume and a short Statement of Interest to <a href="mailto:Legal@trumarx.in" class="text-brand-accent hover:underline">legal@trumarx.in</a></p>
                                    </div>
                                </div>
                                <div class="flex">
                                    <div class="flex-shrink-0 mr-4">
                                        <div class="w-8 h-8 rounded-full bg-white dark:bg-brand-dark border border-gray-300 dark:border-gray-600 text-gray-500 flex items-center justify-center font-bold text-sm">2</div>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-brand-navy dark:text-brand-textLight text-sm">Screening</h4>
                                        <p class="text-xs text-gray-500 mt-1">Applications are screened based on aptitude & writing skills.</p>
                                    </div>
                                </div>
                                <div class="flex">
                                    <div class="flex-shrink-0 mr-4">
                                        <div class="w-8 h-8 rounded-full bg-white dark:bg-brand-dark border border-gray-300 dark:border-gray-600 text-gray-500 flex items-center justify-center font-bold text-sm">3</div>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-brand-navy dark:text-brand-textLight text-sm">Interview / Assessment</h4>
                                        <p class="text-xs text-gray-500 mt-1">Shortlisted candidates may undergo a brief interview or assessment.</p>
                                    </div>
                                </div>
                                <div class="flex">
                                    <div class="flex-shrink-0 mr-4">
                                        <div class="w-8 h-8 rounded-full bg-white dark:bg-brand-dark border border-gray-300 dark:border-gray-600 text-gray-500 flex items-center justify-center font-bold text-sm">4</div>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-brand-navy dark:text-brand-textLight text-sm">Onboarding</h4>
                                        <p class="text-xs text-gray-500 mt-1">Selected interns receive offer confirmation and onboarding details.</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-8">
                                <a onclick="applyForInternship()" class="block w-full py-3 bg-brand-accent hover:bg-brand-accentHover text-white font-bold text-center rounded-lg transition-colors text-sm cursor-pointer">
                                    Apply Now
                                </a>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Full Time Openings -->
    <section id="full-time-positions" class="py-24 bg-brand-light dark:bg-brand-darkCard border-t border-gray-200 dark:border-white/5">
        <div class="max-w-4xl mx-auto px-6 text-center">
            <h2 class="text-2xl font-bold text-brand-navy dark:text-brand-textLight mb-4">Full-Time Positions</h2>
            <div id="jobs-container" class="space-y-6">
                <!-- Jobs will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Admin Panel -->
    <section id="admin-panel" class="py-24 bg-brand-light dark:bg-brand-darkCard border-t border-gray-200 dark:border-white/5 hidden">
        <div class="max-w-4xl mx-auto px-6">
            <h2 class="text-2xl font-bold text-brand-navy dark:text-brand-textLight mb-8 text-center">Manage Job Postings</h2>
            <div class="bg-white dark:bg-brand-dark p-8 rounded-2xl shadow-legal">
                <h3 class="text-xl font-bold mb-6 text-brand-navy dark:text-brand-textLight">Add New Job Posting</h3>
                <form id="job-form" onsubmit="event.preventDefault(); submitJob();">
                    <input id="edit-index" type="hidden">
                    <div class="space-y-4">
                        <input id="job-title" type="text" placeholder="Job Title" class="w-full p-3 bg-brand-light dark:bg-brand-dark border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:border-brand-accent dark:focus:border-brand-accent dark:text-brand-textLight" required>
                        <textarea id="job-description" placeholder="Job Description" rows="4" class="w-full p-3 bg-brand-light dark:bg-brand-dark border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:border-brand-accent dark:focus:border-brand-accent dark:text-brand-textLight resize-none" required></textarea>
                        <select id="job-type" class="w-full p-3 bg-brand-light dark:bg-brand-dark border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:border-brand-accent dark:focus:border-brand-accent dark:text-brand-textLight" required>
                            <option value="Full-Time">Full-Time</option>
                            <option value="Internship">Internship</option>
                        </select>
                        <input id="job-location" type="text" placeholder="Location (e.g., Bangalore, Remote)" class="w-full p-3 bg-brand-light dark:bg-brand-dark border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:border-brand-accent dark:focus:border-brand-accent dark:text-brand-textLight">
                        <input id="job-experience" type="text" placeholder="Experience (e.g., 2-3 years, Fresher)" class="w-full p-3 bg-brand-light dark:bg-brand-dark border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:border-brand-accent dark:focus:border-brand-accent dark:text-brand-textLight">
                        <input id="job-salary" type="text" placeholder="Salary (e.g., 5-8 LPA, Competitive)" class="w-full p-3 bg-brand-light dark:bg-brand-dark border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:border-brand-accent dark:focus:border-brand-accent dark:text-brand-textLight">
                        <input id="job-qualifications" type="text" placeholder="Qualifications (e.g., LLB, CS, MBA)" class="w-full p-3 bg-brand-light dark:bg-brand-dark border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:border-brand-accent dark:focus:border-brand-accent dark:text-brand-textLight">
                        <div>
                            <label for="job-deadline" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Deadline for Application</label>
                            <input id="job-deadline" type="date" class="w-full p-3 bg-brand-light dark:bg-brand-dark border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:border-brand-accent dark:focus:border-brand-accent dark:text-brand-textLight">
                        </div>
                        <button id="submit-btn" class="w-full py-3 bg-brand-accent text-white font-bold text-sm rounded-full hover:bg-brand-accentHover transition-colors shadow-lg">Save Job</button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-16 border-t border-gray-200 dark:border-white/10 bg-white dark:bg-brand-dark">
        <div class="max-w-7xl mx-auto px-6 text-center">
            <!-- Footer Logo -->
            <a href="index.html" class="inline-flex items-center gap-1 group hover:opacity-80 transition-opacity mb-6">
                <div class="text-2xl tracking-tight">
                    <span class="font-bold text-brand-logoGrey">tru</span><span class="font-bold text-brand-logoBlack dark:text-brand-textLight">marx</span>
                    <span class="align-top text-[10px] font-bold border-2 border-brand-logoBlack dark:border-brand-textLight rounded-full px-[2px] py-[0px] ml-0.5 relative top-1 text-brand-logoBlack dark:text-brand-textLight">®</span>
                </div>
            </a>
            <div class="flex flex-wrap justify-center gap-x-8 gap-y-2 mb-8 text-sm font-medium text-gray-600 dark:text-gray-400">
                <a href="index.html" class="hover:text-brand-accent transition-colors">Home</a>
                <a href="services.html" class="hover:text-brand-accent transition-colors">Practice Areas</a>
                <a href="aboutus.html" class="hover:text-brand-accent transition-colors">Our Team</a>
                <a href="#" onclick="openContactModal(event)" class="hover:text-brand-accent transition-colors">Contact</a>
            </div>

            <p class="text-xs text-gray-500 dark:text-gray-500">Prototype — Not for reuse without permission, © 2025 Designed & Developed by Tarkik</p>

        </div>
    </footer>

    <!-- Modal -->
    <div id="modal-overlay" class="fixed inset-0 z-[60] flex items-start sm:items-center justify-center bg-brand-dark/60 backdrop-blur-sm hidden modal overflow-y-auto p-4 sm:p-8">
        <div class="bg-white dark:bg-brand-darkCard rounded-2xl shadow-2xl w-full max-w-md p-8 relative modal-content">
            <button onclick="closeModal()" class="absolute top-4 right-4 text-gray-400 hover:text-brand-navy dark:hover:text-brand-textLight transition-colors"><i class="fas fa-times"></i></button>
            <h3 class="text-2xl font-bold mb-2 text-brand-navy dark:text-brand-textLight">Request Consultation</h3>
            <p class="text-sm text-gray-500 mb-6">Speak with a specialized IP attorney.</p>
            <form id="consultation-form" onsubmit="event.preventDefault(); submitForm();">
                <div class="space-y-4">
                    <input name="name" type="text" placeholder="Full Name" class="w-full p-3 bg-brand-light dark:bg-brand-dark border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:border-brand-accent dark:focus:border-brand-accent dark:text-brand-textLight" required>
                    <input name="email" type="email" placeholder="Email Address" class="w-full p-3 bg-brand-light dark:bg-brand-dark border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:border-brand-accent dark:focus:border-brand-accent dark:text-brand-textLight" required>
                    <input name="phone" type="tel" placeholder="Phone Number" class="w-full p-3 bg-brand-light dark:bg-brand-dark border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:border-brand-accent dark:focus:border-brand-accent dark:text-brand-textLight">
                    <input name="subject" type="text" placeholder="Subject" class="w-full p-3 bg-brand-light dark:bg-brand-dark border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:border-brand-accent dark:focus:border-brand-accent dark:text-brand-textLight">
                    <textarea name="message" placeholder="Message" rows="4" class="w-full p-3 bg-brand-light dark:bg-brand-dark border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:border-brand-accent dark:focus:border-brand-accent dark:text-brand-textLight resize-none"></textarea>
                    <button class="w-full py-3 bg-brand-accent text-white font-bold text-sm rounded-full hover:bg-brand-accentHover transition-colors shadow-lg">Submit Request</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Success Popup -->
    <div id="success-popup" class="fixed inset-0 z-[70] flex items-center justify-center bg-brand-dark/60 backdrop-blur-sm hidden modal p-4">
        <div class="bg-white dark:bg-brand-darkCard rounded-2xl shadow-2xl w-full max-w-sm p-8 relative text-center">
            <div class="w-16 h-16 bg-brand-accent rounded-full flex items-center justify-center mx-auto mb-6">
                <i class="fas fa-check text-white text-2xl"></i>
            </div>
            <h3 class="text-2xl font-bold mb-2 text-brand-navy dark:text-brand-textLight">Request Received</h3>
            <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Our legal team will contact you shortly.</p>
            <button onclick="closeSuccessPopup()" class="px-6 py-3 bg-brand-accent text-white font-bold text-sm rounded-full hover:bg-brand-accentHover transition-colors shadow-lg">Close</button>
        </div>
    </div>

    <!-- Contact Modal -->
    <div id="contact-modal-overlay" class="fixed inset-0 z-[60] flex items-start sm:items-center justify-center bg-brand-dark/60 backdrop-blur-md hidden modal overflow-y-auto p-4 sm:p-8">
        <div class="bg-white dark:bg-brand-darkCard rounded-2xl shadow-2xl w-full max-w-lg p-8 relative modal-content">
            <button onclick="closeContactModal()" class="absolute top-4 right-4 text-gray-400 hover:text-brand-navy dark:hover:text-brand-textLight transition-colors"><i class="fas fa-times"></i></button>
            <h3 class="text-2xl font-bold mb-6 text-brand-navy dark:text-brand-textLight">Contact Information</h3>
            
            <div class="space-y-6">
                <address class="not-italic text-gray-600 dark:text-gray-400 space-y-2">
                    <p class="flex items-start">
                        <i class="fas fa-map-marker-alt text-brand-accent w-5 mt-1"></i>
                        <span class="ml-4">
                            No. 23, Hari Prem Complex, 2nd Floor,<br>
                            CMH Road, Indiranagar 1st Stage,<br>
                            Bangalore – 560038
                        </span>
                    </p>
                </address>

                <div class="border-t border-gray-200 dark:border-white/10 my-4"></div>

                <div class="space-y-3 text-sm text-gray-600 dark:text-gray-400">
                    <p class="flex justify-between items-center"><span><i class="fas fa-headset w-5 mr-3 text-gray-400"></i>Support:</span> <a href="tel:08040911324" class="hover:text-brand-accent text-brand-navy dark:text-brand-textLight">080 – 40911324</a></p>
                    <p class="flex justify-between items-center"><span><i class="fas fa-registered w-5 mr-3 text-gray-400"></i>Trademark:</span> <a href="tel:08041462623" class="hover:text-brand-accent text-brand-navy dark:text-brand-textLight">080 – 4146 2623</a></p>
                    <p class="flex justify-between items-center"><span><i class="fas fa-copyright w-5 mr-3 text-gray-400"></i>Copyright:</span> <a href="tel:08025284226" class="hover:text-brand-accent text-brand-navy dark:text-brand-textLight">080 – 25284226</a></p>
                    <p class="flex justify-between items-center"><span><i class="fas fa-lightbulb w-5 mr-3 text-gray-400"></i>Patent:</span> <a href="tel:08025284227" class="hover:text-brand-accent text-brand-navy dark:text-brand-textLight">080 – 25284227</a></p>
                    <p class="flex justify-between items-center"><span><i class="fas fa-mobile-alt w-5 mr-3 text-gray-400"></i>Mobile:</span> <a href="tel:+919886266396" class="hover:text-brand-accent text-brand-navy dark:text-brand-textLight font-bold">+91 98862 66396</a></p>
                    <p class="flex justify-between items-center"><span><i class="fas fa-envelope w-5 mr-3 text-gray-400"></i>E-mail:</span> <a href="mailto:support@trumarx.in" class="hover:text-brand-accent text-brand-navy dark:text-brand-textLight">support@trumarx.in</a></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize EmailJS
        (function(){
            emailjs.init("IrcWHw8pMd_KcgXef");
        })();

        // Modal Logic
        const modal = document.getElementById('modal-overlay');
        const successPopup = document.getElementById('success-popup');
        function openModal() { modal.classList.remove('hidden'); setTimeout(()=>modal.classList.add('active'),10); }
        function closeModal() { modal.classList.remove('active'); setTimeout(()=>modal.classList.add('hidden'),300); }
        function submitForm() {
            const form = document.getElementById('consultation-form');
            const formData = new FormData(form);
            const data = {
                name: formData.get('name'),
                email: formData.get('email'),
                phone: formData.get('phone'),
                subject: formData.get('subject'),
                message: formData.get('message')
            };

            // The 'required' attribute on inputs handles basic browser-side validation
            emailjs.send("service_56xv4pj", "template_njaikm8", data)
                .then(function(response) {
                    console.log('SUCCESS!', response.status, response.text);
                    closeModal();
                    successPopup.classList.remove('hidden');
                    setTimeout(()=>successPopup.classList.add('active'),10);
                    form.reset();
                }, function(error) {
                    console.log('FAILED...', error);
                    alert('Failed to send message. Please try again.');
                });
        }
        function closeSuccessPopup() { successPopup.classList.remove('active'); setTimeout(()=>successPopup.classList.add('hidden'),300); }
        
        // Contact Modal Logic
        const contactModal = document.getElementById('contact-modal-overlay');
        function openContactModal(event) {
            if(event) event.preventDefault();
            contactModal.classList.remove('hidden');
            if(event) {
                const modalContent = contactModal.querySelector('.modal-content');
                const rect = modalContent.getBoundingClientRect();
                const x = event.clientX - rect.left;
                const y = event.clientY - rect.top;
                modalContent.style.transformOrigin = `${x}px ${y}px`;
            }
            setTimeout(()=>contactModal.classList.add('active'),10);
        }
        function closeContactModal() { contactModal.classList.remove('active'); setTimeout(()=>contactModal.classList.add('hidden'),300); }

        // Mobile Menu Logic
        const mobileBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        if(mobileBtn && mobileMenu) {
            mobileBtn.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
            // Close menu when a link is clicked
            mobileMenu.querySelectorAll('a, button').forEach(link => {
                link.addEventListener('click', () => mobileMenu.classList.add('hidden'));
            });
        }

        // Application Logic
        function applyForJob(jobTitle) {
            const mailtoLink = `mailto:legal@trumarx.in?subject=Job Application - ${jobTitle}&body=Dear Hiring Team,%0A%0AI am writing to express my strong interest in the ${jobTitle} position at Trumarx. I found this opportunity on your careers page and believe my skills and experience align well with your requirements.%0A%0AI am particularly drawn to Trumarx's expertise in trademark and IP law, and I am excited about the possibility of contributing to your team's success.%0A%0AI have attached my resume for your review and would welcome the opportunity to discuss how my background can benefit your organization.%0A%0AThank you for considering my application. I look forward to hearing from you.%0A%0ABest regards,%0A[Your Full Name]%0A[Your Contact Information]%0A[Your LinkedIn/Portfolio (if applicable)]`;
            window.location.href = mailtoLink;

            // Show fallback modal after a short delay
            setTimeout(() => {
                const mailtoFallbackModal = document.getElementById('mailto-fallback-modal');
                if (mailtoFallbackModal) {
                    mailtoFallbackModal.classList.remove('hidden');
                    setTimeout(() => mailtoFallbackModal.classList.add('active'), 10);
                }
            }, 1000);
        }

        function closeMailtoFallbackModal() {
            const mailtoFallbackModal = document.getElementById('mailto-fallback-modal');
            if (mailtoFallbackModal) {
                mailtoFallbackModal.classList.remove('active');
                setTimeout(() => mailtoFallbackModal.classList.add('hidden'), 300);
            }
        }

        // Internship Application Logic
        function applyForInternship() {
            const mailtoLink = `mailto:legal@trumarx.in?subject=Internship Application - [Your Name]&body=Dear Trumarx Team,%0A%0AI am writing to express my interest in the Internship Program at Trumarx. I found the opportunity on your website and am excited about the possibility of contributing to your team.%0A%0AI am particularly interested in gaining hands-on experience in trademark and IP law, and I believe your structured internship program would be an excellent learning opportunity.%0A%0AI have attached my resume for your review. I look forward to discussing how my skills and enthusiasm can benefit your team.%0A%0ABest regards,%0A[Your Full Name]%0A[Your Contact Information]%0A[Your University/College]%0A[Your LinkedIn/Portfolio (if applicable)]`;
            
            // Try to open the email client
            const emailOpened = window.open(mailtoLink, '_blank');
            
            // Show fallback modal if email client doesn't open
            setTimeout(() => {
                if (!emailOpened || emailOpened.closed || typeof emailOpened.closed === 'undefined') {
                    openInternshipModal();
                }
            }, 500);
        }

        function openInternshipModal() {
            const modal = document.getElementById('internship-modal');
            if (modal) {
                modal.classList.remove('hidden');
                setTimeout(() => modal.classList.add('active'), 10);
            }
        }

        function closeInternshipModal() {
            const modal = document.getElementById('internship-modal');
            if (modal) {
                modal.classList.remove('active');
                setTimeout(() => modal.classList.add('hidden'), 300);
            }
        }

        // Admin Login Logic
        function openAdminLogin() { 
            const adminLoginModal = document.getElementById('admin-login-modal');
            if (adminLoginModal) {
                adminLoginModal.classList.remove('hidden'); 
                setTimeout(() => adminLoginModal.classList.add('active'), 10); 
            } else {
                alert('Modal not found');
            }
        }
        function closeAdminLoginModal() { 
            const adminLoginModal = document.getElementById('admin-login-modal');
            if (adminLoginModal) {
                adminLoginModal.classList.remove('active'); 
                setTimeout(() => adminLoginModal.classList.add('hidden'), 300); 
            }
        }
        function showConfirmModal(message, callback) {
            document.getElementById('confirm-message').textContent = message;
            window.confirmCallback = callback;
            const modal = document.getElementById('confirm-modal');
            modal.classList.remove('hidden');
            setTimeout(() => modal.classList.add('active'), 10);
        }
        function confirmAction(confirmed) {
            const modal = document.getElementById('confirm-modal');
            modal.classList.remove('active');
            setTimeout(() => modal.classList.add('hidden'), 300);
            if (window.confirmCallback) {
                window.confirmCallback(confirmed);
            }
        }
        function showMessageModal(title, message, type = 'info') {
            const modal = document.getElementById('message-modal');
            if (modal) {
                const titleEl = document.getElementById('message-title');
                const textEl = document.getElementById('message-text');
                const okBtn = document.getElementById('message-ok-btn');
                titleEl.textContent = title;
                textEl.textContent = message;
                if (type === 'error') {
                    titleEl.className = 'text-2xl font-bold mb-4 text-red-500 dark:text-red-400';
                    okBtn.className = 'w-full py-3 bg-red-500 text-white font-bold text-sm rounded-full hover:bg-red-600 transition-colors shadow-lg';
                } else {
                    titleEl.className = 'text-2xl font-bold mb-4 text-brand-navy dark:text-brand-textLight';
                    okBtn.className = 'w-full py-3 bg-brand-accent text-white font-bold text-sm rounded-full hover:bg-brand-accentHover transition-colors shadow-lg';
                }
                modal.classList.remove('hidden');
                setTimeout(() => modal.classList.add('active'), 10);
            } else {
                alert(title + ': ' + message); // Fallback
            }
        }
        function closeMessageModal() {
            const modal = document.getElementById('message-modal');
            modal.classList.remove('active');
            setTimeout(() => modal.classList.add('hidden'), 300);
        }

        let jobsCache = [];

        async function fetchJobsFromApi() {
            const response = await fetch('/.netlify/functions/jobs-get', {
                method: 'GET',
                headers: { 'Accept': 'application/json' }
            });
            if (!response.ok) {
                throw new Error('Failed to load jobs');
            }
            const data = await response.json();
            return Array.isArray(data.jobs) ? data.jobs : [];
        }

        async function saveJobsToApi(jobs) {
            const token = localStorage.getItem('adminToken');
            console.log('Admin token exists:', !!token);
            console.log('Jobs to save:', jobs);
            
            const response = await fetch('/.netlify/functions/jobs-save', {
                method: 'POST',
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json',
                    'Authorization': token ? `Bearer ${token}` : ''
                },
                body: JSON.stringify({ jobs })
            });

            // Log response details for debugging
            console.log('Response status:', response.status);
            console.log('Response headers:', response.headers);
            
            if (!response.ok) {
                let errorData;
                try {
                    errorData = await response.json();
                    console.error('Server error details:', errorData);
                } catch (e) {
                    console.error('Could not parse error response:', e);
                    errorData = { error: 'Unknown server error' };
                }
                throw new Error(errorData.error || 'Failed to save jobs');
            }

            if (response.status === 401) {
                adminLogout();
                throw new Error('Unauthorized');
            }

            const data = await response.json();
            localStorage.setItem('jobsUpdatedAt', Date.now().toString());
            return data;
        }
        function submitAdminLogin() {
            const username = document.getElementById('admin-username').value;
            const password = document.getElementById('admin-password').value;
            // Production version: calls Netlify function
            fetch('/.netlify/functions/admin-login', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ username, password })
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    localStorage.setItem('adminLoggedIn', 'true');
                    if (data.token) {
                        localStorage.setItem('adminToken', data.token);
                    }
                    closeAdminLoginModal();
                    showAdminPanel();
                } else {
                    showMessageModal('Login Failed', 'Invalid credentials. Please try again.', 'error');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                showMessageModal('Error', 'Login failed. Please try again.', 'error');
            });
            // For local testing, uncomment below and comment above
            /*
            if (username === 'admin' && password === 'password') {
                localStorage.setItem('adminLoggedIn', 'true');
                closeAdminLoginModal();
                showAdminPanel();
            } else {
                showMessageModal('Login Failed', 'Invalid credentials. Please try again.');
            }
            */
        }
        function showAdminPanel() {
            console.log('showAdminPanel called');
            const panel = document.getElementById('admin-panel');
            const authBtn = document.getElementById('auth-btn');
            const mobileAuthBtn = document.getElementById('mobile-auth-btn');
            console.log('Elements:', { panel, authBtn, mobileAuthBtn });
            if (panel) panel.classList.remove('hidden');
            if (authBtn) {
                authBtn.textContent = 'Logout';
                authBtn.onclick = adminLogout;
                authBtn.className = 'px-4 py-2 rounded-xl bg-red-500 text-white font-medium text-[12px] hover:bg-red-600 transition-all shadow-sm';
            }
            if (mobileAuthBtn) {
                mobileAuthBtn.textContent = 'Logout';
                mobileAuthBtn.onclick = adminLogout;
                mobileAuthBtn.className = 'w-full text-center px-5 py-3 rounded-xl bg-red-500 text-white font-bold shadow-lg mb-2';
            }
            loadJobs();
        }
        function adminLogout() {
            localStorage.removeItem('adminLoggedIn');
            localStorage.removeItem('adminToken');
            const panel = document.getElementById('admin-panel');
            const authBtn = document.getElementById('auth-btn');
            const mobileAuthBtn = document.getElementById('mobile-auth-btn');
            if (panel) panel.classList.add('hidden');
            if (authBtn) {
                authBtn.textContent = 'Admin Login';
                authBtn.onclick = openAdminLogin;
                authBtn.className = 'px-4 py-2 rounded-xl bg-brand-navy text-white font-medium text-[12px] hover:bg-brand-accentHover transition-all shadow-sm';
            }
            if (mobileAuthBtn) {
                mobileAuthBtn.textContent = 'Admin Login';
                mobileAuthBtn.onclick = openAdminLogin;
                mobileAuthBtn.className = 'w-full text-center px-5 py-3 rounded-xl bg-brand-navy text-white font-bold shadow-lg mb-2';
            }
            loadJobs(); // Reload to hide edit/delete buttons
        }
        async function loadJobs() {
            const container = document.getElementById('jobs-container');
            try {
                jobsCache = await fetchJobsFromApi();
            } catch (error) {
                console.error('Error:', error);
                if (container) {
                    container.innerHTML = '<div class="bg-white dark:bg-brand-dark p-12 rounded-2xl shadow-sm"><p class="text-gray-500 dark:text-gray-400 mb-8">Failed to load job postings. Please try again later.</p><i class="fas fa-triangle-exclamation text-5xl text-gray-300 dark:text-gray-600"></i></div>';
                }
                return;
            }

            if (!container) return;

            if (jobsCache.length === 0) {
                container.innerHTML = '<div class="bg-white dark:bg-brand-dark p-12 rounded-2xl shadow-sm"><p class="text-gray-500 dark:text-gray-400 mb-8">There are currently no open full-time positions. Please check back later or send your resume for future consideration.</p><i class="fas fa-folder-open text-5xl text-gray-300 dark:text-gray-600"></i></div>';
            } else {
                container.innerHTML = jobsCache.map((job, index) => `
                    <div class="bg-white dark:bg-brand-dark p-6 rounded-2xl shadow-legal">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-bold text-brand-navy dark:text-brand-textLight">${job.title}</h3>
                            <span class="px-3 py-1 bg-brand-accent text-white text-xs font-medium rounded-full">${job.type}</span>
                        </div>
                        <p class="text-gray-600 dark:text-gray-400 mb-4">${job.description}</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-4">
                            <div>
                                ${job.location ? `<div class="flex items-center text-sm text-gray-500 dark:text-gray-400"><i class="fas fa-map-marker-alt text-brand-accent mr-2 w-4"></i><span>${job.location}</span></div>` : ''}
                                ${job.salary ? `<div class="flex items-center text-sm text-gray-500 dark:text-gray-400"><i class="fas fa-rupee-sign text-brand-accent mr-2 w-4"></i><span>${job.salary}</span></div>` : ''}
                            </div>
                            <div class="text-right">
                                ${job.experience ? `<div class="flex items-center justify-end text-sm text-gray-500 dark:text-gray-400"><i class="fas fa-briefcase text-brand-accent mr-2 w-4"></i><span>${job.experience}</span></div>` : ''}
                                ${job.qualifications ? `<div class="flex items-center justify-end text-sm text-gray-500 dark:text-gray-400"><i class="fas fa-graduation-cap text-brand-accent mr-2 w-4"></i><span>${job.qualifications}</span></div>` : ''}
                            </div>
                        </div>
                        ${job.deadline ? `<div class="flex items-center justify-center text-sm text-red-500 dark:text-red-400 mb-4"><i class="fas fa-clock mr-2"></i><span>Deadline: ${formatDate(job.deadline)}</span></div>` : ''}
                        <div class="flex justify-between items-center">
                            <button onclick="applyForJob('${job.title}')" class="px-4 py-2 bg-brand-accent text-white rounded-full hover:bg-brand-accentHover transition-colors">Apply Now</button>
                            ${localStorage.getItem('adminLoggedIn') === 'true' ? `<div class="flex gap-2"><button onclick="editJob(${index})" class="px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors"><i class="fas fa-edit"></i></button><button onclick="deleteJob(${index})" class="px-4 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors"><i class="fas fa-trash"></i></button></div>` : ''}
                        </div>
                    </div>
                `).join('');
            }
        }
        // Date formatting function
        function formatDate(dateString) {
            if (!dateString) return '';
            const date = new Date(dateString);
            const day = String(date.getDate()).padStart(2, '0');
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const year = date.getFullYear();
            return `${day}-${month}-${year}`;
        }

        async function submitJob() {
            const title = document.getElementById('job-title').value;
            const description = document.getElementById('job-description').value;
            const type = document.getElementById('job-type').value;
            const location = document.getElementById('job-location').value;
            const experience = document.getElementById('job-experience').value;
            const salary = document.getElementById('job-salary').value;
            const qualifications = document.getElementById('job-qualifications').value;
            const deadline = document.getElementById('job-deadline').value;
            const editIndex = document.getElementById('edit-index').value;
 
            const jobData = { 
                title, 
                description, 
                type, 
                location, 
                experience, 
                salary, 
                qualifications, 
                deadline 
            };
 
            if (editIndex !== '') {
                jobsCache[editIndex] = jobData;
            } else {
                jobsCache.push(jobData);
            }
 
            try {
                await saveJobsToApi(jobsCache);
                document.getElementById('job-form').reset();
                document.getElementById('edit-index').value = '';
                document.getElementById('submit-btn').textContent = 'Save Job';
                await loadJobs();
                showMessageModal('Success', editIndex !== '' ? 'Job updated successfully!' : 'Job saved successfully!');
            } catch (error) {
                console.error('Error:', error);
                showMessageModal('Error', 'Failed to save job posting. Please try again.', 'error');
            }
        }
        function editJob(index) {
            const job = jobsCache[index];
            if (!job) return;
            document.getElementById('job-title').value = job.title || '';
            document.getElementById('job-description').value = job.description || '';
            document.getElementById('job-type').value = job.type || '';
            document.getElementById('job-location').value = job.location || '';
            document.getElementById('job-experience').value = job.experience || '';
            document.getElementById('job-salary').value = job.salary || '';
            document.getElementById('job-qualifications').value = job.qualifications || '';
            document.getElementById('job-deadline').value = job.deadline || '';
            document.getElementById('edit-index').value = index;
            document.getElementById('submit-btn').textContent = 'Update Job';
            // Scroll to form
            document.getElementById('admin-panel').scrollIntoView({ behavior: 'smooth' });
        }
        function deleteJob(index) {
            showConfirmModal('Are you sure you want to delete this job posting?', (confirmed) => {
                if (confirmed) {
                    (async () => {
                        jobsCache.splice(index, 1);
                        try {
                            await saveJobsToApi(jobsCache);
                            await loadJobs();
                            showMessageModal('Deleted', 'Job posting deleted successfully.');
                        } catch (error) {
                            console.error('Error:', error);
                            showMessageModal('Error', 'Failed to delete job posting. Please try again.', 'error');
                        }
                    })();
                }
            });
        }

        // Load jobs on page load
        document.addEventListener('DOMContentLoaded', () => {
            // Clear admin login state on every page load/reload
            localStorage.removeItem('adminLoggedIn');
            localStorage.removeItem('adminToken');
            
            loadJobs();
            
            // Update UI to show login state
            const panel = document.getElementById('admin-panel');
            const authBtn = document.getElementById('auth-btn');
            const mobileAuthBtn = document.getElementById('mobile-auth-btn');
            
            if (panel) panel.classList.add('hidden');
            if (authBtn) {
                authBtn.textContent = 'Admin Login';
                authBtn.onclick = openAdminLogin;
                authBtn.className = 'px-4 py-2 rounded-xl bg-brand-navy text-white font-medium text-[12px] hover:bg-brand-accentHover transition-all shadow-sm';
            }
            if (mobileAuthBtn) {
                mobileAuthBtn.textContent = 'Admin Login';
                mobileAuthBtn.onclick = openAdminLogin;
                mobileAuthBtn.className = 'w-full text-center px-5 py-3 rounded-xl bg-brand-navy text-white font-bold shadow-lg mb-2';
            }
        });
        // Sync jobs across tabs
        window.addEventListener('storage', (event) => {
            if (event.key === 'jobsUpdatedAt' || event.key === 'adminLoggedIn' || event.key === 'adminToken') {
                loadJobs();
            }
        });
    </script>

    <!-- Mailto Fallback Modal -->
    <div id="mailto-fallback-modal" class="fixed inset-0 z-[60] flex items-center justify-center bg-brand-dark/60 backdrop-blur-sm hidden modal p-4">
        <div class="bg-white dark:bg-brand-darkCard rounded-2xl shadow-2xl w-full max-w-sm p-8 relative text-center modal-content font-sans">
            <div class="w-16 h-16 bg-brand-accent rounded-full flex items-center justify-center mx-auto mb-6">
                <i class="fas fa-envelope text-white text-2xl"></i>
            </div>
            <h3 class="text-2xl font-bold mb-4 text-brand-navy dark:text-brand-textLight">Email Application</h3>
            <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">
                If the email client didn't open, please copy this email address and send your resume manually:
            </p>
            <div class="bg-brand-light dark:bg-brand-dark p-4 rounded-lg mb-6">
                <p class="font-mono text-brand-navy dark:text-brand-textLight font-bold">legal@trumarx.in</p>
            </div>
            <button onclick="closeMailtoFallbackModal()" class="px-6 py-3 bg-brand-accent text-white font-bold text-sm rounded-full hover:bg-brand-accentHover transition-colors shadow-lg">Close</button>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="admin-login-modal" class="fixed inset-0 z-[60] flex items-center justify-center bg-brand-dark/60 backdrop-blur-sm hidden modal p-4">
        <div class="bg-white dark:bg-brand-darkCard rounded-2xl shadow-2xl w-full max-w-sm p-8 relative modal-content">
            <button onclick="closeAdminLoginModal()" class="absolute top-4 right-4 text-gray-400 hover:text-brand-navy dark:hover:text-brand-textLight transition-colors"><i class="fas fa-times"></i></button>
            <h3 class="text-2xl font-bold mb-2 text-brand-navy dark:text-brand-textLight">Admin Login</h3>
            <p class="text-sm text-gray-500 mb-6">Enter credentials to manage job postings.</p>
            <form id="admin-login-form" onsubmit="event.preventDefault(); submitAdminLogin();">
                <div class="space-y-4">
                    <input id="admin-username" type="text" placeholder="Username" class="w-full p-3 bg-brand-light dark:bg-brand-dark border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:border-brand-accent dark:focus:border-brand-accent dark:text-brand-textLight" required>
                    <input id="admin-password" type="password" placeholder="Password" class="w-full p-3 bg-brand-light dark:bg-brand-dark border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:border-brand-accent dark:focus:border-brand-accent dark:text-brand-textLight" required>
                    <button class="w-full py-3 bg-brand-accent text-white font-bold text-sm rounded-full hover:bg-brand-accentHover transition-colors shadow-lg">Login</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Confirm Modal -->
    <div id="confirm-modal" class="fixed inset-0 z-[60] flex items-center justify-center bg-brand-dark/60 backdrop-blur-sm hidden modal p-4">
        <div class="bg-white dark:bg-brand-darkCard rounded-2xl shadow-2xl w-full max-w-sm p-8 relative modal-content">
            <h3 class="text-2xl font-bold mb-4 text-brand-navy dark:text-brand-textLight">Confirm Action</h3>
            <p id="confirm-message" class="text-sm text-gray-500 dark:text-gray-400 mb-6">Are you sure?</p>
            <div class="flex gap-4">
                <button onclick="confirmAction(true)" class="flex-1 py-3 bg-red-500 text-white font-bold text-sm rounded-full hover:bg-red-600 transition-colors shadow-lg">Yes</button>
                <button onclick="confirmAction(false)" class="flex-1 py-3 bg-gray-500 text-white font-bold text-sm rounded-full hover:bg-gray-600 transition-colors shadow-lg">No</button>
            </div>
        </div>
    </div>

    <!-- Internship Application Modal -->
    <div id="internship-modal" class="fixed inset-0 z-[60] flex items-center justify-center bg-brand-dark/60 backdrop-blur-sm hidden modal p-4">
        <div class="bg-white dark:bg-brand-darkCard rounded-2xl shadow-2xl w-full max-w-sm p-8 relative modal-content">
            <button onclick="closeInternshipModal()" class="absolute top-4 right-4 text-gray-400 hover:text-brand-navy dark:hover:text-brand-textLight transition-colors"><i class="fas fa-times"></i></button>
            <div class="w-16 h-16 bg-brand-accent rounded-full flex items-center justify-center mx-auto mb-6">
                <i class="fas fa-briefcase text-white text-2xl"></i>
            </div>
            <h3 class="text-2xl font-bold mb-4 text-brand-navy dark:text-brand-textLight">Apply for Internship</h3>
            <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">
                If the email client didn't open, please send your resume and cover letter to:
            </p>
            <div class="bg-brand-light dark:bg-brand-dark p-4 rounded-lg mb-6">
                <p class="font-mono text-brand-navy dark:text-brand-textLight font-bold text-center">legal@trumarx.in</p>
            </div>
            <p class="text-xs text-gray-400 dark:text-gray-500 mb-6">
                Subject: Internship Application - [Your Name]
            </p>
            <div class="flex gap-3">
                <button onclick="closeInternshipModal()" class="flex-1 py-3 bg-gray-500 text-white font-bold text-sm rounded-full hover:bg-gray-600 transition-colors shadow-lg">Close</button>
                <button onclick="window.location.href='mailto:legal@trumarx.in?subject=Internship Application - [Your Name]&body=Dear Trumarx Team,%0A%0AI am writing to express my interest in the Internship Program at Trumarx. I found the opportunity on your website and am excited about the possibility of contributing to your team.%0A%0AI am particularly interested in gaining hands-on experience in trademark and IP law, and I believe your structured internship program would be an excellent learning opportunity.%0A%0AI have attached my resume for your review. I look forward to discussing how my skills and enthusiasm can benefit your team.%0A%0ABest regards,%0A[Your Full Name]%0A[Your Contact Information]%0A[Your University/College]%0A[Your LinkedIn/Portfolio (if applicable)]';" class="flex-1 py-3 bg-brand-accent text-white font-bold text-sm rounded-full hover:bg-brand-accentHover transition-colors shadow-lg">Open Email</button>
            </div>
        </div>
    </div>

    <!-- Message Modal -->
    <div id="message-modal" class="fixed inset-0 z-[60] flex items-center justify-center bg-brand-dark/60 backdrop-blur-sm hidden modal p-4">
        <div class="bg-white dark:bg-brand-darkCard rounded-2xl shadow-2xl w-full max-w-sm p-8 relative modal-content">
            <button onclick="closeMessageModal()" class="absolute top-4 right-4 text-gray-400 hover:text-brand-navy dark:hover:text-brand-textLight transition-colors"><i class="fas fa-times"></i></button>
            <h3 id="message-title" class="text-2xl font-bold mb-4 text-brand-navy dark:text-brand-textLight">Message</h3>
            <p id="message-text" class="text-sm text-gray-500 dark:text-gray-400 mb-6">Message here.</p>
            <button id="message-ok-btn" onclick="closeMessageModal()" class="w-full py-3 bg-brand-accent text-white font-bold text-sm rounded-full hover:bg-brand-accentHover transition-colors shadow-lg">OK</button>
        </div>
    </div>

</body>
</html>
